####### Auslöser Entität für die Klimasteuerung
## State: clones
- name: area_1_air_control_job
  #
  state: >-
    {% if states('binary_sensor.area_1_temperature_low_adjustment') == 'on' and states('binary_sensor.area_1_humidity_ok') == 'on' or states('binary_sensor.area_1_temperature_low_adjustment') == 'on' and states('binary_sensor.area_1_is_ac_eq_dehumidifier') == 'on' and states('binary_sensor.area_1_air_control_prio_temperature') == 'on' and states('binary_sensor.area_1_air_control_prio_humidity') == 'off'%} heater_on
    {% elif states('binary_sensor.area_1_temperature_high_adjustment') == 'on' and states('binary_sensor.area_1_humidity_ok') == 'on' or states('binary_sensor.area_1_temperature_high_adjustment') == 'on' and states('binary_sensor.area_1_is_ac_eq_dehumidifier') == 'on' and states('binary_sensor.area_1_air_control_prio_temperature') == 'on' and states('binary_sensor.area_1_air_control_prio_humidity') == 'off'%} ac_on
    {% elif states('binary_sensor.area_1_humidity_low_adjustment') == 'on' and states('binary_sensor.area_1_temperature_ok') == 'on' or states('binary_sensor.area_1_humidity_low_adjustment') == 'on' and states('binary_sensor.area_1_is_ac_eq_dehumidifier') == 'on' and states('binary_sensor.area_1_air_control_prio_humidity') == 'on' and states('binary_sensor.area_1_air_control_prio_temperature') == 'off' %} humidifier_on
    {% elif states('binary_sensor.area_1_humidity_high_adjustment') == 'on' and states('binary_sensor.area_1_temperature_ok') == 'on' or states('binary_sensor.area_1_humidity_high_adjustment') == 'on' and states('binary_sensor.area_1_is_ac_eq_dehumidifier') == 'on' and states('binary_sensor.area_1_air_control_prio_humidity') == 'on' and states('binary_sensor.area_1_air_control_prio_temperature') == 'off'%} dehumidifier_on
    {% elif states('binary_sensor.area_1_temperature_low_adjustment') == 'on' and states('binary_sensor.area_1_humidity_low_adjustment') == 'on' %} heater_and_humidifier_on
    {% elif states('binary_sensor.area_1_humidity_low_adjustment') == 'on' and states('binary_sensor.area_1_temperature_low_adjustment') == 'on' and states('binary_sensor.area_1_is_ac_eq_dehumidifier') == 'off' %} heater_and_dehumidifier_on
    {% elif states('binary_sensor.area_1_humidity_high_adjustment') == 'on' and states('binary_sensor.area_1_temperature_high_adjustment') == 'on' and states('binary_sensor.area_1_is_ac_eq_dehumidifier') == 'off' %} ac_and_humidifier_on
    {% elif states('binary_sensor.area_1_temperature_high_adjustment') == 'on' and states('binary_sensor.area_1_humidity_high_adjustment') == 'on' %} ac_and_dehumidifier_on
    {% elif states('binary_sensor.area_1_air_fixed_job_done') == 'on' and states('input_text.area_1_air_control_last_job') == 'heater_on' %} heater_off
    {% elif states('binary_sensor.area_1_air_fixed_job_done') == 'on' and states('input_text.area_1_air_control_last_job') == 'ac_on'%} ac_off
    {% elif states('binary_sensor.area_1_air_fixed_job_done') == 'on' and states('input_text.area_1_air_control_last_job') == 'humidifier_on'%} humidifier_off
    {% elif states('binary_sensor.area_1_air_fixed_job_done') == 'on' and states('input_text.area_1_air_control_last_job') == 'dehumidifier_on'%} dehumidifier_off
    {% elif states('binary_sensor.area_1_air_fixed_job_done') == 'on' and states('input_text.area_1_air_control_last_job') == 'heater_and_humidifier_on'%} heater_and_humidifier_off
    {% elif states('binary_sensor.area_1_air_fixed_job_done') == 'on' and states('input_text.area_1_air_control_last_job') == 'heater_and_dehumidifier_on'%} heater_and_dehumidifier_off
    {% elif states('binary_sensor.area_1_air_fixed_job_done') == 'on' and states('input_text.area_1_air_control_last_job') == 'ac_and_humidifier_on'%} ac_and_humidifier_off
    {% elif states('binary_sensor.area_1_air_fixed_job_done') == 'on' and states('input_text.area_1_air_control_last_job') == 'ac_and_dehumidifier_on'%} ac_and_dehumidifier_off
    {% else %} no_job
    {% endif %}

  ## Löst aus:
