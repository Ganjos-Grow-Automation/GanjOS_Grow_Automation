title: "Propagator Monitoring"
path: "area_2_monitoring"
subview: true
####### Open: Lichtbedingungen hier einfügen, wenn ja was?
cards:
  - type: vertical-stack
    cards:
      - type: "custom:button-card"
        template: card_title
        name: Luftbedingungen
      - type: "custom:button-card"
        template: chip_icon_label
        label: Zusammengefasste Werte
        icon: "mdi:alert"
      ##### VPD
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: chip_icon_label
            label: VPD
            icon: mdi:target
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_max_vpd
              ulm_chip_mdi_icon_state_icon: mdi:arrow-up-bold
              ulm_chip_mdi_icon_state_icon_color: red
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_target_vpd
              ulm_chip_mdi_icon_state_icon: mdi:target
              ulm_chip_mdi_icon_state_icon_color: green
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_min_vpd
              ulm_chip_mdi_icon_state_icon: mdi:arrow-down-bold
              ulm_chip_mdi_icon_state_icon_color: blue
      ##### VPD einfügen
      - type: custom:ha-vpd-chart
        air_text: Temp
        rh_text: Hum
        kpa_text: VPD
        min_temperature: 12
        max_temperature: 35
        min_humidity: 40
        max_humidity: 90
        steps_humidity: 5
        steps_temperature: 0.5
        is_bar_view: false
        enable_tooltip: true
        enable_axes: true
        enable_ghostmap: true
        enable_triangle: false
        min_height: 300
        sensors:
          - temperature: sensor.area_2_temperature_air
            humidity: sensor.area_2_humidity
            # to be configured
            vpd: sensor.area_1_vpd
            name: Growzelt
        vpd_phases:
          - upper: 0.4
            className: danger-zone
          - lower: 0.4
            upper: 0.8
            className: mid-late-flower
          - lower: 0.8
            upper: 1.2
            className: late-veg
          - lower: 1.2
            upper: 1.6
            className: mid-late-flower
          - lower: 1.6
            className: danger-zone
          ####################################################################
      - type: horizontal-stack
        cards:
          - type: custom:config-template-card
            entities:
              # to be configured
              - sensor.area_1_vpd
              - sensor.area_2_target_vpd
            card:
              type: gauge
              # to be configured
              entity: sensor.area_1_vpd
              name: aktuell
              unit: kPa
              min: ${states["sensor.area_2_target_vpd"].state * 0.7778}
              needle: true
              max: ${states["sensor.area_2_target_vpd"].state * 1.2222}
              segments:
                - from: ${states["sensor.area_2_target_vpd"].state * 0.7778}
                  color: "#FF453A"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.7889}
                  color: "#FE5235"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.8000}
                  color: "#FE5F31"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.8111}
                  color: "#FE6C2C"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.8222}
                  color: "#FE7A28"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.8333}
                  color: "#FE8723"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.8444}
                  color: "#FE941F"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.8556}
                  color: "#FEA11A"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.8667}
                  color: "#FEAF16"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.8778}
                  color: "#FEBC11"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.8889}
                  color: "#FEC90D"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.9}
                  color: "#FED709"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.9111}
                  color: "#EDD20E"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.9222}
                  color: "#DCCD14"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.9333}
                  color: "#CBC819"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.9444}
                  color: "#A9BE25"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.9556}
                  color: "#98B92A"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.9667}
                  color: "#87B430"
                - from: ${states["sensor.area_2_target_vpd"].state * 0.9778}
                  color: "#76AF36"
                - from: ${states["sensor.area_2_target_vpd"].state - 0,6}
                  color: "#65AA3B"
                - from: ${states["sensor.area_2_target_vpd"].state - 0,3}
                  color: "#44A047"
                - from: ${states["sensor.area_2_target_vpd"].state + 0,3}
                  color: "#65AA3B"
                - from: ${states["sensor.area_2_target_vpd"].state + 0,6}
                  color: "#76AF36"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.0333}
                  color: "#87B430"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.0444}
                  color: "#98B92A"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.0556}
                  color: "#A9BE25"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.0667}
                  color: "#CBC819"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.0778}
                  color: "#DCCD14"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.0889}
                  color: "#EDD20E"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.1}
                  color: "#FED709"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.1111}
                  color: "#FEC90D"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.1222}
                  color: "#FEBC11"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.1333}
                  color: "#FEAF16"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.1444}
                  color: "#FEA11A"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.1556}
                  color: "#FE941F"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.1667}
                  color: "#FE8723"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.1778}
                  color: "#FE7A28"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.1889}
                  color: "#FE6C2C"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.2}
                  color: "#FE5F31"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.2111}
                  color: "#FE5235"
                - from: ${states["sensor.area_2_target_vpd"].state * 1.2222}
                  color: "#FF453A"
      ####################################################################
      - type: custom:mini-graph-card
        entities:
          # to be configured
          - entity: sensor.area_1_vpd
            aggregate_func: last
        show:
          name: false
          legend: true
          icon: false
          labels: true
        color_thresholds:
          - value: 1.0
            color: "#FF453A"
          - value: 1.1
            color: "#44A047"
          - value: 1.2
            color: "#FF453A"
        hours_to_show: 4 #24
        points_per_hour: 60
        group_by: minute

      ##### Temperatur
      - type: "custom:button-card"
        template: chip_icon_label
        label: Temperatur
        icon: mdi:thermometer
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: chip_icon_label
            label: Am Tag
            icon: "mdi:white-balance-sunny"
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_max_temperature_air_day
              ulm_chip_mdi_icon_state_icon: mdi:arrow-up-bold
              ulm_chip_mdi_icon_state_icon_color: red
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_target_temperature_air_day
              ulm_chip_mdi_icon_state_icon: mdi:target
              ulm_chip_mdi_icon_state_icon_color: green
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_min_temperature_air_day
              ulm_chip_mdi_icon_state_icon: mdi:arrow-down-bold
              ulm_chip_mdi_icon_state_icon_color: blue
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: chip_icon_label
            label: Bei Nacht
            icon: "mdi:weather-night"
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_max_temperature_air_night
              ulm_chip_mdi_icon_state_icon: mdi:arrow-up-bold
              ulm_chip_mdi_icon_state_icon_color: red
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_target_temperature_air_night
              ulm_chip_mdi_icon_state_icon: mdi:target
              ulm_chip_mdi_icon_state_icon_color: green
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_min_temperature_air_night
              ulm_chip_mdi_icon_state_icon: mdi:arrow-down-bold
              ulm_chip_mdi_icon_state_icon_color: blue
          ####################################################################
      - type: horizontal-stack
        cards:
          - type: custom:config-template-card
            entities:
              - sensor.area_2_temperature_air
              - sensor.area_2_target_temperature_air
            card:
              type: gauge
              entity: sensor.area_2_temperature_air
              name: aktuell
              unit: °C
              min: ${states["sensor.area_2_target_temperature_air"].state * 0.7778}
              needle: true
              max: ${states["sensor.area_2_target_temperature_air"].state * 1.2222}
              segments:
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.7778}
                  color: "#FF453A"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.7889}
                  color: "#FE5235"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8000}
                  color: "#FE5F31"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8111}
                  color: "#FE6C2C"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8222}
                  color: "#FE7A28"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8333}
                  color: "#FE8723"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8444}
                  color: "#FE941F"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8556}
                  color: "#FEA11A"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8667}
                  color: "#FEAF16"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8778}
                  color: "#FEBC11"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8889}
                  color: "#FEC90D"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9}
                  color: "#FED709"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9111}
                  color: "#EDD20E"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9222}
                  color: "#DCCD14"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9333}
                  color: "#CBC819"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9444}
                  color: "#A9BE25"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9556}
                  color: "#98B92A"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9667}
                  color: "#87B430"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9778}
                  color: "#76AF36"
                - from: ${states["sensor.area_2_target_temperature_air"].state - 0,6}
                  color: "#65AA3B"
                - from: ${states["sensor.area_2_target_temperature_air"].state - 0,3}
                  color: "#44A047"
                - from: ${states["sensor.area_2_target_temperature_air"].state + 0,3}
                  color: "#65AA3B"
                - from: ${states["sensor.area_2_target_temperature_air"].state + 0,6}
                  color: "#76AF36"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0333}
                  color: "#87B430"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0444}
                  color: "#98B92A"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0556}
                  color: "#A9BE25"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0667}
                  color: "#CBC819"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0778}
                  color: "#DCCD14"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0889}
                  color: "#EDD20E"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1}
                  color: "#FED709"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1111}
                  color: "#FEC90D"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1222}
                  color: "#FEBC11"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1333}
                  color: "#FEAF16"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1444}
                  color: "#FEA11A"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1556}
                  color: "#FE941F"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1667}
                  color: "#FE8723"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1778}
                  color: "#FE7A28"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1889}
                  color: "#FE6C2C"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.2}
                  color: "#FE5F31"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.2111}
                  color: "#FE5235"
                - from: ${states["sensor.area_2_target_temperature_air"].state * 1.2222}
                  color: "#FF453A"
      ####################################################################
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.area_2_temperature_air
            aggregate_func: last
        show:
          name: false
          legend: true
          icon: false
          labels: true
        color_thresholds:
          - value: 24
            color: "#FF453A"
          - value: 25
            color: "#44A047"
          - value: 26
            color: "#FF453A"
        hours_to_show: 4 #24
        points_per_hour: 120
        group_by: minute
      ##### Luftfeuchtigkeit
      - type: "custom:button-card"
        template: chip_icon_label
        label: Luftfeuchtigkeit
        icon: mdi:water-percent
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: chip_icon_label
            label: Am Tag
            icon: "mdi:white-balance-sunny"
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_max_humidity_day
              ulm_chip_mdi_icon_state_icon: mdi:arrow-up-bold
              ulm_chip_mdi_icon_state_icon_color: red
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_target_humidity_day
              ulm_chip_mdi_icon_state_icon: mdi:target
              ulm_chip_mdi_icon_state_icon_color: green
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_min_humidity_day
              ulm_chip_mdi_icon_state_icon: mdi:arrow-down-bold
              ulm_chip_mdi_icon_state_icon_color: blue
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: chip_icon_label
            label: Bei Nacht
            icon: "mdi:weather-night"
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_max_humidity_night
              ulm_chip_mdi_icon_state_icon: mdi:arrow-up-bold
              ulm_chip_mdi_icon_state_icon_color: red
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_target_humidity_night
              ulm_chip_mdi_icon_state_icon: mdi:target
              ulm_chip_mdi_icon_state_icon_color: green
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_min_humidity_night
              ulm_chip_mdi_icon_state_icon: mdi:arrow-down-bold
              ulm_chip_mdi_icon_state_icon_color: blue
          ####################################################################
      - type: custom:config-template-card
        entities:
          - sensor.area_2_humidity
          - sensor.area_2_target_humidity
        card:
          type: gauge
          entity: sensor.area_2_humidity
          name: aktuell
          unit: "%"
          min: ${states["sensor.area_2_target_humidity"].state * 0.7778}
          needle: true
          max: ${states["sensor.area_2_target_humidity"].state * 1.2222}
          segments:
            - from: ${states["sensor.area_2_target_humidity"].state * 0.7778}
              color: "#FF453A"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.7889}
              color: "#FE5235"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.8000}
              color: "#FE5F31"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.8111}
              color: "#FE6C2C"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.8222}
              color: "#FE7A28"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.8333}
              color: "#FE8723"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.8444}
              color: "#FE941F"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.8556}
              color: "#FEA11A"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.8667}
              color: "#FEAF16"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.8778}
              color: "#FEBC11"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.8889}
              color: "#FEC90D"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.9}
              color: "#FED709"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.9111}
              color: "#EDD20E"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.9222}
              color: "#DCCD14"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.9333}
              color: "#CBC819"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.9444}
              color: "#A9BE25"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.9556}
              color: "#98B92A"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.9667}
              color: "#87B430"
            - from: ${states["sensor.area_2_target_humidity"].state * 0.9778}
              color: "#76AF36"
            - from: ${states["sensor.area_2_target_humidity"].state - 0,6}
              color: "#65AA3B"
            - from: ${states["sensor.area_2_target_humidity"].state - 0,3}
              color: "#44A047"
            - from: ${states["sensor.area_2_target_humidity"].state + 0,3}
              color: "#65AA3B"
            - from: ${states["sensor.area_2_target_humidity"].state + 0,6}
              color: "#76AF36"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.0333}
              color: "#87B430"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.0444}
              color: "#98B92A"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.0556}
              color: "#A9BE25"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.0667}
              color: "#CBC819"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.0778}
              color: "#DCCD14"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.0889}
              color: "#EDD20E"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.1}
              color: "#FED709"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.1111}
              color: "#FEC90D"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.1222}
              color: "#FEBC11"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.1333}
              color: "#FEAF16"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.1444}
              color: "#FEA11A"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.1556}
              color: "#FE941F"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.1667}
              color: "#FE8723"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.1778}
              color: "#FE7A28"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.1889}
              color: "#FE6C2C"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.2}
              color: "#FE5F31"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.2111}
              color: "#FE5235"
            - from: ${states["sensor.area_2_target_humidity"].state * 1.2222}
              color: "#FF453A"
      ####################################################################
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.area_2_humidity
            aggregate_func: last
        show:
          name: false
          legend: true
          icon: false
          labels: true
        color_thresholds:
          - value: 52
            color: "#FF453A"
          - value: 55
            color: "#44A047"
          - value: 58
            color: "#FF453A"
        hours_to_show: 4 #24
        points_per_hour: 120
        group_by: minute
      ##### CO2
      - type: "custom:button-card"
        template: chip_icon_label
        label: CO2
        icon: mdi:water-percent
      ##### Placeholder
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: chip_icon_label
            label: Am Tag
            icon: "mdi:white-balance-sunny"
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_max_co2_day
              ulm_chip_mdi_icon_state_icon: mdi:arrow-up-bold
              ulm_chip_mdi_icon_state_icon_color: red
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_target_co2_day
              ulm_chip_mdi_icon_state_icon: mdi:target
              ulm_chip_mdi_icon_state_icon_color: green
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_min_co2_day
              ulm_chip_mdi_icon_state_icon: mdi:arrow-down-bold
              ulm_chip_mdi_icon_state_icon_color: blue
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: chip_icon_label
            label: Bei Nacht
            icon: "mdi:weather-night"
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_max_co2_night
              ulm_chip_mdi_icon_state_icon: mdi:arrow-up-bold
              ulm_chip_mdi_icon_state_icon_color: red
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_target_co2_night
              ulm_chip_mdi_icon_state_icon: mdi:target
              ulm_chip_mdi_icon_state_icon_color: green
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.area_2_min_co2_night
              ulm_chip_mdi_icon_state_icon: mdi:arrow-down-bold
              ulm_chip_mdi_icon_state_icon_color: blue
          ####################################################################
      - type: custom:config-template-card
        entities:
          - sensor.area_2_co2
          - sensor.area_2_target_co2
        card:
          type: gauge
          entity: sensor.area_2_co2
          name: aktuell
          unit: ppm
          min: ${states["sensor.area_2_target_co2"].state * 0.7778}
          needle: true
          max: ${states["sensor.area_2_target_co2"].state * 1.2222}
          segments:
            - from: ${states["sensor.area_2_target_co2"].state * 0.7778}
              color: "#FF453A"
            - from: ${states["sensor.area_2_target_co2"].state * 0.7889}
              color: "#FE5235"
            - from: ${states["sensor.area_2_target_co2"].state * 0.8000}
              color: "#FE5F31"
            - from: ${states["sensor.area_2_target_co2"].state * 0.8111}
              color: "#FE6C2C"
            - from: ${states["sensor.area_2_target_co2"].state * 0.8222}
              color: "#FE7A28"
            - from: ${states["sensor.area_2_target_co2"].state * 0.8333}
              color: "#FE8723"
            - from: ${states["sensor.area_2_target_co2"].state * 0.8444}
              color: "#FE941F"
            - from: ${states["sensor.area_2_target_co2"].state * 0.8556}
              color: "#FEA11A"
            - from: ${states["sensor.area_2_target_co2"].state * 0.8667}
              color: "#FEAF16"
            - from: ${states["sensor.area_2_target_co2"].state * 0.8778}
              color: "#FEBC11"
            - from: ${states["sensor.area_2_target_co2"].state * 0.8889}
              color: "#FEC90D"
            - from: ${states["sensor.area_2_target_co2"].state * 0.9}
              color: "#FED709"
            - from: ${states["sensor.area_2_target_co2"].state * 0.9111}
              color: "#EDD20E"
            - from: ${states["sensor.area_2_target_co2"].state * 0.9222}
              color: "#DCCD14"
            - from: ${states["sensor.area_2_target_co2"].state * 0.9333}
              color: "#CBC819"
            - from: ${states["sensor.area_2_target_co2"].state * 0.9444}
              color: "#A9BE25"
            - from: ${states["sensor.area_2_target_co2"].state * 0.9556}
              color: "#98B92A"
            - from: ${states["sensor.area_2_target_co2"].state * 0.9667}
              color: "#87B430"
            - from: ${states["sensor.area_2_target_co2"].state * 0.9778}
              color: "#76AF36"
            - from: ${states["sensor.area_2_target_co2"].state - 0,6}
              color: "#65AA3B"
            - from: ${states["sensor.area_2_target_co2"].state - 0,3}
              color: "#44A047"
            - from: ${states["sensor.area_2_target_co2"].state + 0,3}
              color: "#65AA3B"
            - from: ${states["sensor.area_2_target_co2"].state + 0,6}
              color: "#76AF36"
            - from: ${states["sensor.area_2_target_co2"].state * 1.0333}
              color: "#87B430"
            - from: ${states["sensor.area_2_target_co2"].state * 1.0444}
              color: "#98B92A"
            - from: ${states["sensor.area_2_target_co2"].state * 1.0556}
              color: "#A9BE25"
            - from: ${states["sensor.area_2_target_co2"].state * 1.0667}
              color: "#CBC819"
            - from: ${states["sensor.area_2_target_co2"].state * 1.0778}
              color: "#DCCD14"
            - from: ${states["sensor.area_2_target_co2"].state * 1.0889}
              color: "#EDD20E"
            - from: ${states["sensor.area_2_target_co2"].state * 1.1}
              color: "#FED709"
            - from: ${states["sensor.area_2_target_co2"].state * 1.1111}
              color: "#FEC90D"
            - from: ${states["sensor.area_2_target_co2"].state * 1.1222}
              color: "#FEBC11"
            - from: ${states["sensor.area_2_target_co2"].state * 1.1333}
              color: "#FEAF16"
            - from: ${states["sensor.area_2_target_co2"].state * 1.1444}
              color: "#FEA11A"
            - from: ${states["sensor.area_2_target_co2"].state * 1.1556}
              color: "#FE941F"
            - from: ${states["sensor.area_2_target_co2"].state * 1.1667}
              color: "#FE8723"
            - from: ${states["sensor.area_2_target_co2"].state * 1.1778}
              color: "#FE7A28"
            - from: ${states["sensor.area_2_target_co2"].state * 1.1889}
              color: "#FE6C2C"
            - from: ${states["sensor.area_2_target_co2"].state * 1.2}
              color: "#FE5F31"
            - from: ${states["sensor.area_2_target_co2"].state * 1.2111}
              color: "#FE5235"
            - from: ${states["sensor.area_2_target_co2"].state * 1.2222}
              color: "#FF453A"
      ####################################################################
      #####
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.area_2_co2
            aggregate_func: last
        show:
          name: false
          legend: true
          icon: false
          labels: true
        color_thresholds:
          - value: 1200
            color: "#FF453A"
          - value: 1350
            color: "#44A047"
          - value: 1500
            color: "#FF453A"
        hours_to_show: 4 #24
        points_per_hour: 120
        group_by: minute
      ########################
      - type: "custom:button-card"
        template: card_title
        name:
          Substratbedingungen
          ##### Bodenfeuchtigkeit
      - type: "custom:button-card"
        template: chip_icon_label
        label: Bodenfeuchtigkeit
        icon: mdi:water-percent
      #####
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.plant_1_max_soil_moisture
              ulm_chip_mdi_icon_state_icon: mdi:arrow-up-bold
              ulm_chip_mdi_icon_state_icon_color: red
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.plant_1_target_soil_moisture
              ulm_chip_mdi_icon_state_icon: mdi:target
              ulm_chip_mdi_icon_state_icon_color: green
          - type: "custom:button-card"
            template: chip_mdi_icon_state
            variables:
              ulm_chip_mdi_icon_state_entity: sensor.plant_1_min_soil_moisture
              ulm_chip_mdi_icon_state_icon: mdi:arrow-down-bold
              ulm_chip_mdi_icon_state_icon_color: blue
          ####################################################################
      ### Plant Section
      ##################################
      ### plant 1
      - type: "custom:button-card"
        template: chip_icon_label
        label: Pflanze 1
        icon: mdi:water-percent
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: chip_icon_double_state
            variables:
              ulm_chip_icon_double_state_icon: "🧬"
              ulm_chip_icon_double_state_entity_1: input_text.plant_1_strain
              ulm_chip_icon_double_state_entity_2: input_text.plant_1_seedbank
          - type: "custom:button-card"
            template: chip_icon_double_state
            variables:
              ulm_chip_icon_double_state_icon: "💧"
              ulm_chip_icon_double_state_entity_1: sensor.plant_1_soil_moisture
              ulm_chip_icon_double_state_entity_2: sensor.plant_1_soil_conductivity
      ##
      - type: custom:config-template-card
        entities:
          - sensor.plant_1_soil_moisture
          - sensor.plant_1_target_soil_moisture
        card:
          type: gauge
          entity: sensor.plant_1_soil_moisture
          name: aktuell
          unit: "%"
          min: ${states["sensor.plant_1_target_soil_moisture"].state * 0.7778}
          needle: true
          max: ${states["sensor.plant_1_target_soil_moisture"].state * 1.2222}
          segments:
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.7778}
              color: "#FF453A"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.7889}
              color: "#FE5235"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.8000}
              color: "#FE5F31"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.8111}
              color: "#FE6C2C"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.8222}
              color: "#FE7A28"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.8333}
              color: "#FE8723"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.8444}
              color: "#FE941F"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.8556}
              color: "#FEA11A"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.8667}
              color: "#FEAF16"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.8778}
              color: "#FEBC11"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.8889}
              color: "#FEC90D"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.9}
              color: "#FED709"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.9111}
              color: "#EDD20E"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.9222}
              color: "#DCCD14"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.9333}
              color: "#CBC819"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.9444}
              color: "#A9BE25"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.9556}
              color: "#98B92A"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.9667}
              color: "#87B430"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 0.9778}
              color: "#76AF36"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state - 0,6}
              color: "#65AA3B"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state - 0,3}
              color: "#44A047"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state + 0,3}
              color: "#65AA3B"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state + 0,6}
              color: "#76AF36"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.0333}
              color: "#87B430"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.0444}
              color: "#98B92A"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.0556}
              color: "#A9BE25"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.0667}
              color: "#CBC819"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.0778}
              color: "#DCCD14"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.0889}
              color: "#EDD20E"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.1}
              color: "#FED709"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.1111}
              color: "#FEC90D"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.1222}
              color: "#FEBC11"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.1333}
              color: "#FEAF16"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.1444}
              color: "#FEA11A"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.1556}
              color: "#FE941F"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.1667}
              color: "#FE8723"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.1778}
              color: "#FE7A28"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.1889}
              color: "#FE6C2C"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.2}
              color: "#FE5F31"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.2111}
              color: "#FE5235"
            - from: ${states["sensor.plant_1_target_soil_moisture"].state * 1.2222}
              color: "#FF453A"
      ####################################################################
      #####
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.plant_1_soil_moisture
            aggregate_func: last
        show:
          name: false
          legend: true
          icon: false
          labels: true
        color_thresholds:
          - value: 40
            color: "#FF453A"
          - value: 60
            color: "#44A047"
          - value: 80
            color: "#FF453A"
        hours_to_show: 4 #24
        points_per_hour: 120
        group_by: minute
      ### plant 2
      - type: "custom:button-card"
        template: chip_icon_label
        label: Pflanze 2
        icon: mdi:water-percent
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: chip_icon_double_state
            variables:
              ulm_chip_icon_double_state_icon: "🧬"
              ulm_chip_icon_double_state_entity_1: input_text.plant_2_strain
              ulm_chip_icon_double_state_entity_2: input_text.plant_2_seedbank
          - type: "custom:button-card"
            template: chip_icon_double_state
            variables:
              ulm_chip_icon_double_state_icon: "💧"
              ulm_chip_icon_double_state_entity_1: sensor.plant_2_soil_moisture
              ulm_chip_icon_double_state_entity_2: sensor.plant_2_soil_conductivity
      ##
      - type: custom:config-template-card
        entities:
          - sensor.plant_2_soil_moisture
          - sensor.plant_2_target_soil_moisture
        card:
          type: gauge
          entity: sensor.plant_2_soil_moisture
          name: aktuell
          unit: "%"
          min: ${states["sensor.plant_2_target_soil_moisture"].state * 0.7778}
          needle: true
          max: ${states["sensor.plant_2_target_soil_moisture"].state * 1.2222}
          segments:
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.7778}
              color: "#FF453A"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.7889}
              color: "#FE5235"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.8000}
              color: "#FE5F31"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.8111}
              color: "#FE6C2C"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.8222}
              color: "#FE7A28"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.8333}
              color: "#FE8723"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.8444}
              color: "#FE941F"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.8556}
              color: "#FEA11A"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.8667}
              color: "#FEAF16"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.8778}
              color: "#FEBC11"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.8889}
              color: "#FEC90D"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.9}
              color: "#FED709"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.9111}
              color: "#EDD20E"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.9222}
              color: "#DCCD14"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.9333}
              color: "#CBC819"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.9444}
              color: "#A9BE25"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.9556}
              color: "#98B92A"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.9667}
              color: "#87B430"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 0.9778}
              color: "#76AF36"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state - 0,6}
              color: "#65AA3B"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state - 0,3}
              color: "#44A047"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state + 0,3}
              color: "#65AA3B"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state + 0,6}
              color: "#76AF36"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.0333}
              color: "#87B430"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.0444}
              color: "#98B92A"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.0556}
              color: "#A9BE25"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.0667}
              color: "#CBC819"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.0778}
              color: "#DCCD14"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.0889}
              color: "#EDD20E"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.1}
              color: "#FED709"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.1111}
              color: "#FEC90D"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.1222}
              color: "#FEBC11"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.1333}
              color: "#FEAF16"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.1444}
              color: "#FEA11A"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.1556}
              color: "#FE941F"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.1667}
              color: "#FE8723"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.1778}
              color: "#FE7A28"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.1889}
              color: "#FE6C2C"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.2}
              color: "#FE5F31"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.2111}
              color: "#FE5235"
            - from: ${states["sensor.plant_2_target_soil_moisture"].state * 1.2222}
              color: "#FF453A"
      ####################################################################
      #####
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.plant_2_soil_moisture
            aggregate_func: last
        show:
          name: false
          legend: true
          icon: false
          labels: true
        color_thresholds:
          - value: 40
            color: "#FF453A"
          - value: 60
            color: "#44A047"
          - value: 80
            color: "#FF453A"
        hours_to_show: 4 #24
        points_per_hour: 120
        group_by: minute
      ### plant 3
      - type: "custom:button-card"
        template: chip_icon_label
        label: Pflanze 3
        icon: mdi:water-percent
      - type: horizontal-stack
        cards:
          - type: "custom:button-card"
            template: chip_icon_double_state
            variables:
              ulm_chip_icon_double_state_icon: "🧬"
              ulm_chip_icon_double_state_entity_1: input_text.plant_3_strain
              ulm_chip_icon_double_state_entity_2: input_text.plant_3_seedbank
          - type: "custom:button-card"
            template: chip_icon_double_state
            variables:
              ulm_chip_icon_double_state_icon: "💧"
              ulm_chip_icon_double_state_entity_1: sensor.plant_3_soil_moisture
              ulm_chip_icon_double_state_entity_2: sensor.plant_3_soil_conductivity
      ##
      - type: custom:config-template-card
        entities:
          - sensor.plant_3_soil_moisture
          - sensor.plant_3_target_soil_moisture
        card:
          type: gauge
          entity: sensor.plant_3_soil_moisture
          name: aktuell
          unit: "%"
          min: ${states["sensor.plant_3_target_soil_moisture"].state * 0.7778}
          needle: true
          max: ${states["sensor.plant_3_target_soil_moisture"].state * 1.2222}
          segments:
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.7778}
              color: "#FF453A"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.7889}
              color: "#FE5235"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.8000}
              color: "#FE5F31"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.8111}
              color: "#FE6C2C"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.8222}
              color: "#FE7A28"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.8333}
              color: "#FE8723"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.8444}
              color: "#FE941F"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.8556}
              color: "#FEA11A"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.8667}
              color: "#FEAF16"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.8778}
              color: "#FEBC11"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.8889}
              color: "#FEC90D"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.9}
              color: "#FED709"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.9111}
              color: "#EDD20E"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.9222}
              color: "#DCCD14"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.9333}
              color: "#CBC819"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.9444}
              color: "#A9BE25"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.9556}
              color: "#98B92A"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.9667}
              color: "#87B430"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 0.9778}
              color: "#76AF36"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state - 0,6}
              color: "#65AA3B"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state - 0,3}
              color: "#44A047"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state + 0,3}
              color: "#65AA3B"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state + 0,6}
              color: "#76AF36"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.0333}
              color: "#87B430"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.0444}
              color: "#98B92A"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.0556}
              color: "#A9BE25"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.0667}
              color: "#CBC819"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.0778}
              color: "#DCCD14"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.0889}
              color: "#EDD20E"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.1}
              color: "#FED709"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.1111}
              color: "#FEC90D"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.1222}
              color: "#FEBC11"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.1333}
              color: "#FEAF16"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.1444}
              color: "#FEA11A"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.1556}
              color: "#FE941F"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.1667}
              color: "#FE8723"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.1778}
              color: "#FE7A28"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.1889}
              color: "#FE6C2C"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.2}
              color: "#FE5F31"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.2111}
              color: "#FE5235"
            - from: ${states["sensor.plant_3_target_soil_moisture"].state * 1.2222}
              color: "#FF453A"
      ####################################################################
      #####
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.plant_3_soil_moisture
            aggregate_func: last
        show:
          name: false
          legend: true
          icon: false
          labels: true
        color_thresholds:
          - value: 40
            color: "#FF453A"
          - value: 60
            color: "#44A047"
          - value: 80
            color: "#FF453A"
        hours_to_show: 4 #24
        points_per_hour: 120
        group_by: minute

      ########################
      #- type: "custom:button-card"
      #  template: card_title
      #  name: Lichtbedingungen
###### insert PPFD und Lux here

# ##########################
# removed because currently not in use
# ##########################
# - type: "custom:button-card"
#   template: card_title
#   name: Wasserbedingungen
# ##### Ph
# - type: "custom:button-card"
#   template: chip_icon_label
#   label: pH
#   icon: mdi:water-percent
# #####
# - type: horizontal-stack
#   cards:
#     - type: "custom:button-card"
#       template: chip_mdi_icon_state
#       variables:
#         ulm_chip_mdi_icon_state_entity: sensor.area_2_max_ph
#         ulm_chip_mdi_icon_state_icon: mdi:arrow-up-bold
#         ulm_chip_mdi_icon_state_icon_color: red
#     - type: "custom:button-card"
#       template: chip_mdi_icon_state
#       variables:
#         ulm_chip_mdi_icon_state_entity: sensor.area_2_target_ph
#         ulm_chip_mdi_icon_state_icon: mdi:target
#         ulm_chip_mdi_icon_state_icon_color: green
#     - type: "custom:button-card"
#       template: chip_mdi_icon_state
#       variables:
#         ulm_chip_mdi_icon_state_entity: sensor.area_2_min_ph
#         ulm_chip_mdi_icon_state_icon: mdi:arrow-down-bold
#         ulm_chip_mdi_icon_state_icon_color: blue
#     ####################################################################
#     ##### modify to ph
# - type: custom:config-template-card
#   entities:
#     - sensor.airmonitoring_grow_temperature
#     - sensor.area_2_target_temperature_air
#   card:
#     type: gauge
#     entity: sensor.airmonitoring_grow_temperature
#     name: aktuell
#     unit: mol/l
#     min: ${states["sensor.area_2_target_temperature_air"].state * 0.7778}
#     needle: true
#     max: ${states["sensor.area_2_target_temperature_air"].state * 1.2222}
#     segments:
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.7778}
#         color: "#FF453A"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.7889}
#         color: "#FE5235"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8000}
#         color: "#FE5F31"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8111}
#         color: "#FE6C2C"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8222}
#         color: "#FE7A28"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8333}
#         color: "#FE8723"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8444}
#         color: "#FE941F"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8556}
#         color: "#FEA11A"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8667}
#         color: "#FEAF16"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8778}
#         color: "#FEBC11"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8889}
#         color: "#FEC90D"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9}
#         color: "#FED709"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9111}
#         color: "#EDD20E"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9222}
#         color: "#DCCD14"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9333}
#         color: "#CBC819"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9444}
#         color: "#A9BE25"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9556}
#         color: "#98B92A"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9667}
#         color: "#87B430"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9778}
#         color: "#76AF36"
#       - from: ${states["sensor.area_2_target_temperature_air"].state - 0,6}
#         color: "#65AA3B"
#       - from: ${states["sensor.area_2_target_temperature_air"].state - 0,3}
#         color: "#44A047"
#       - from: ${states["sensor.area_2_target_temperature_air"].state + 0,3}
#         color: "#65AA3B"
#       - from: ${states["sensor.area_2_target_temperature_air"].state + 0,6}
#         color: "#76AF36"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0333}
#         color: "#87B430"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0444}
#         color: "#98B92A"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0556}
#         color: "#A9BE25"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0667}
#         color: "#CBC819"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0778}
#         color: "#DCCD14"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0889}
#         color: "#EDD20E"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1}
#         color: "#FED709"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1111}
#         color: "#FEC90D"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1222}
#         color: "#FEBC11"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1333}
#         color: "#FEAF16"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1444}
#         color: "#FEA11A"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1556}
#         color: "#FE941F"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1667}
#         color: "#FE8723"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1778}
#         color: "#FE7A28"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1889}
#         color: "#FE6C2C"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.2}
#         color: "#FE5F31"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.2111}
#         color: "#FE5235"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.2222}
#         color: "#FF453A"
# ####################################################################
# #####
# - type: "custom:button-card"
#   template: "custom_card_apexcharts"
#   variables:
#     chart_type: "line"
#     graph_span: "12h"
#     entity_1:
#       entity_id: sensor.area_2_max_ph
#       icon: ""
#       name: "Max"
#       color: "red"
#     entity_2:
#       ##### modify
#       entity_id: sensor.airmonitoring_grow_humidity
#       icon: ""
#       name: "gemessen"
#       color: "green"
#     entity_3:
#       entity_id: sensor.area_2_min_ph
#       icon: ""
#       name: "Min"
#       color: "blue"
# ##### EC
# - type: "custom:button-card"
#   template: chip_icon_label
#   label: EC
#   icon: mdi:water-percent
# #####
# - type: horizontal-stack
#   cards:
#     - type: "custom:button-card"
#       template: chip_mdi_icon_state
#       variables:
#         ulm_chip_mdi_icon_state_entity: sensor.area_2_max_ec
#         ulm_chip_mdi_icon_state_icon: mdi:arrow-up-bold
#         ulm_chip_mdi_icon_state_icon_color: red
#     - type: "custom:button-card"
#       template: chip_mdi_icon_state
#       variables:
#         ##### modify
#         ulm_chip_mdi_icon_state_entity: sensor.area_2_target_ec
#         ulm_chip_mdi_icon_state_icon: mdi:target
#         ulm_chip_mdi_icon_state_icon_color: green
#     - type: "custom:button-card"
#       template: chip_mdi_icon_state
#       variables:
#         ulm_chip_mdi_icon_state_entity: sensor.area_2_min_ec
#         ulm_chip_mdi_icon_state_icon: mdi:arrow-down-bold
#         ulm_chip_mdi_icon_state_icon_color: blue
#     ####################################################################
# - type: custom:config-template-card
#   entities:
#     - sensor.airmonitoring_grow_temperature
#     - sensor.area_2_target_temperature_air
#   card:
#     type: gauge
#     entity: sensor.airmonitoring_grow_temperature
#     name: aktuell
#     unit:
#     min: ${states["sensor.area_2_target_temperature_air"].state * 0.7778}
#     needle: true
#     max: ${states["sensor.area_2_target_temperature_air"].state * 1.2222}
#     segments:
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.7778}
#         color: "#FF453A"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.7889}
#         color: "#FE5235"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8000}
#         color: "#FE5F31"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8111}
#         color: "#FE6C2C"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8222}
#         color: "#FE7A28"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8333}
#         color: "#FE8723"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8444}
#         color: "#FE941F"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8556}
#         color: "#FEA11A"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8667}
#         color: "#FEAF16"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8778}
#         color: "#FEBC11"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.8889}
#         color: "#FEC90D"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9}
#         color: "#FED709"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9111}
#         color: "#EDD20E"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9222}
#         color: "#DCCD14"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9333}
#         color: "#CBC819"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9444}
#         color: "#A9BE25"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9556}
#         color: "#98B92A"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9667}
#         color: "#87B430"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 0.9778}
#         color: "#76AF36"
#       - from: ${states["sensor.area_2_target_temperature_air"].state - 0,6}
#         color: "#65AA3B"
#       - from: ${states["sensor.area_2_target_temperature_air"].state - 0,3}
#         color: "#44A047"
#       - from: ${states["sensor.area_2_target_temperature_air"].state + 0,3}
#         color: "#65AA3B"
#       - from: ${states["sensor.area_2_target_temperature_air"].state + 0,6}
#         color: "#76AF36"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0333}
#         color: "#87B430"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0444}
#         color: "#98B92A"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0556}
#         color: "#A9BE25"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0667}
#         color: "#CBC819"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0778}
#         color: "#DCCD14"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.0889}
#         color: "#EDD20E"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1}
#         color: "#FED709"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1111}
#         color: "#FEC90D"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1222}
#         color: "#FEBC11"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1333}
#         color: "#FEAF16"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1444}
#         color: "#FEA11A"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1556}
#         color: "#FE941F"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1667}
#         color: "#FE8723"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1778}
#         color: "#FE7A28"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.1889}
#         color: "#FE6C2C"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.2}
#         color: "#FE5F31"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.2111}
#         color: "#FE5235"
#       - from: ${states["sensor.area_2_target_temperature_air"].state * 1.2222}
#         color: "#FF453A"
# ####################################################################
# #####
# - type: "custom:button-card"
#   template: "custom_card_apexcharts"
#   variables:
#     chart_type: "line"
#     graph_span: "12h"
#     entity_1:
#       entity_id: sensor.area_2_max_humidity
#       icon: ""
#       name: "Max"
#       color: "red"
#     entity_2:
#       ##### modify
#       entity_id: sensor.airmonitoring_grow_humidity
#       icon: ""
#       name: "gemessen"
#       color: "green"
#     entity_3:
#       entity_id: sensor.area_2_min_humidity
#       icon: ""
#       name: "Min"
#       color: "blue"
# ##### Wassertemperatur
# - type: "custom:button-card"
#   template: chip_icon_label
#   label: Wassertemperatur
#   icon: mdi:water-percent
# #####
# - type: horizontal-stack
#   cards:
#     - type: "custom:button-card"
#       template: chip_mdi_icon_state
#       variables:
#         ulm_chip_mdi_icon_state_entity: sensor.area_2_max_temperature_water
#         ulm_chip_mdi_icon_state_icon: mdi:arrow-up-bold
#         ulm_chip_mdi_icon_state_icon_color: red
#     - type: "custom:button-card"
#       template: chip_mdi_icon_state
#       variables:
#         ulm_chip_mdi_icon_state_entity: sensor.area_2_target_temperature_water
#         ulm_chip_mdi_icon_state_icon: mdi:target
#         ulm_chip_mdi_icon_state_icon_color: green
#     - type: "custom:button-card"
#       template: chip_mdi_icon_state
#       variables:
#         ulm_chip_mdi_icon_state_entity: sensor.area_2_min_temperature_water
#         ulm_chip_mdi_icon_state_icon: mdi:arrow-down-bold
#         ulm_chip_mdi_icon_state_icon_color: blue
#     ####################################################################
# - type: custom:config-template-card
#   entities:
#     - sensor.airmonitoring_grow_temperature
#     - sensor.watermonitoring_grow_water_temperature
#   card:
#     type: gauge
#     entity: sensor.watermonitoring_grow_water_temperature
#     name: aktuell
#     unit: °C
#     min: ${states["sensor.area_2_target_temperature_water"].state * 0.7778}
#     needle: true
#     max: ${states["sensor.area_2_target_temperature_water"].state * 1.2222}
#     segments:
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.7778}
#         color: "#FF453A"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.7889}
#         color: "#FE5235"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.8000}
#         color: "#FE5F31"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.8111}
#         color: "#FE6C2C"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.8222}
#         color: "#FE7A28"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.8333}
#         color: "#FE8723"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.8444}
#         color: "#FE941F"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.8556}
#         color: "#FEA11A"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.8667}
#         color: "#FEAF16"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.8778}
#         color: "#FEBC11"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.8889}
#         color: "#FEC90D"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.9}
#         color: "#FED709"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.9111}
#         color: "#EDD20E"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.9222}
#         color: "#DCCD14"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.9333}
#         color: "#CBC819"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.9444}
#         color: "#A9BE25"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.9556}
#         color: "#98B92A"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.9667}
#         color: "#87B430"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 0.9778}
#         color: "#76AF36"
#       - from: ${states["sensor.area_2_target_temperature_water"].state - 0,6}
#         color: "#65AA3B"
#       - from: ${states["sensor.area_2_target_temperature_water"].state - 0,3}
#         color: "#44A047"
#       - from: ${states["sensor.area_2_target_temperature_water"].state + 0,3}
#         color: "#65AA3B"
#       - from: ${states["sensor.area_2_target_temperature_water"].state + 0,6}
#         color: "#76AF36"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.0333}
#         color: "#87B430"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.0444}
#         color: "#98B92A"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.0556}
#         color: "#A9BE25"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.0667}
#         color: "#CBC819"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.0778}
#         color: "#DCCD14"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.0889}
#         color: "#EDD20E"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.1}
#         color: "#FED709"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.1111}
#         color: "#FEC90D"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.1222}
#         color: "#FEBC11"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.1333}
#         color: "#FEAF16"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.1444}
#         color: "#FEA11A"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.1556}
#         color: "#FE941F"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.1667}
#         color: "#FE8723"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.1778}
#         color: "#FE7A28"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.1889}
#         color: "#FE6C2C"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.2}
#         color: "#FE5F31"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.2111}
#         color: "#FE5235"
#       - from: ${states["sensor.area_2_target_temperature_water"].state * 1.2222}
#         color: "#FF453A"
# ####################################################################
# #####
# - type: "custom:button-card"
#   template: "custom_card_apexcharts"
#   variables:
#     chart_type: "line"
#     graph_span: "12h"
#     entity_1:
#       entity_id: sensor.area_2_max_temperature_water
#       icon: ""
#       name: "Max"
#       color: "red"
#     entity_2:
#       ##### modify
#       entity_id: sensor.watermonitoring_grow_water_temperature
#       icon: ""
#       name: "gemessen"
#       color: "green"
#     entity_3:
#       entity_id: sensor.area_2_min_temperature_water
#       icon: ""
#       name: "Min"
#       color: "blue"
